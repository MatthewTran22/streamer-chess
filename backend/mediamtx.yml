# MediaMTX configuration file - ULTRA LOW LATENCY
# Optimized for <2 second latency

# Global settings
logLevel: info
logDestinations: [stdout]

# Low latency global settings
# Note: Some MediaMTX versions don't support all timeout settings
# readTimeout: 3s
# writeTimeout: 3s
# readBufferCount: 16

# API settings
#api: yes
#apiAddress: :9997

# Metrics settings  
#metrics: yes
#metricsAddress: :9998

# RTMP settings - LOW LATENCY optimized
rtmp: yes
rtmpAddress: :1935

# RTSP settings
rtsp: yes
rtspAddress: :8554
#rtspEncryption: "no"
#rtspServerKey: server.key
#rtspServerCert: server.crt
rtspTransports: [tcp, udp]

# WebRTC settings
webrtc: yes
webrtcAddress: :8889
webrtcICEServers2: []

# Path settings - define your streams here
# For local development, no authentication needed
paths:
  # Default catch-all path - allow all access
  ~^.*$:
    # No authentication for local development
    
  # Specific path for your chess stream - ULTRA LOW LATENCY
  live/stream1:
    # No authentication needed for local development
    
    # Ultra low latency settings for this path
    # readTimeout: 2s
    # writeTimeout: 2s
    
    # Optional: redirect/proxy settings
    #source: rtsp://192.168.1.100:8554/stream
    #sourceFingerprint: ""
    #sourceOnDemand: no
    #sourceOnDemandStartTimeout: 10s
    #sourceOnDemandCloseAfter: 10s
    
    # Optional: run commands on events
    #runOnInit: ""
    #runOnInitRestart: no
    #runOnDemand: ""
    #runOnDemandRestart: no
    #runOnDemandStartTimeout: 10s
    #runOnDemandCloseAfter: 10s
    #runOnPublish: ""
    #runOnPublishRestart: no
    #runOnRead: ""
    #runOnReadRestart: no
